(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,t,a){e.exports=a(51)},45:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(30),i=a.n(r),o=a(5),l=a(6),s=a(8),u=a(7),d=a(9),p=a(16),m=a(55),h=(a(45),a(24)),f=Object(h.a)(),b=a(35),g=function(e,t,a){var n,c=function(e){var t=[];return[e.filter(function(e){if(Array.isArray(e))t=t.concat(e);else if("string"===typeof e)t.push(e);else{if(!e||!e.tags)return!0;t=t.concat(e.tags),delete e.tags}return!1}),t]}(t),r=Object(b.a)(c,2);t=r[0],n=r[1],t.length&&(t=function(e){if(e.length){var t={};return e.forEach(function(e){return t=Object.assign(t,e)}),t}}(t));var i=n.map(function(e){return"[".concat(e,"]")}).join(""),o=(new Date).toLocaleTimeString("en",{hour12:!1}),l="".concat(o," ").concat(i," ").concat(e);t&&Object.keys(t).length>0?a(l,t):a(l)},y={debug:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];g(e,a,console.debug)},info:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];g(e,a,console.info)},warn:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];g(e,a,console.warn)},error:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];g(e,a,console.error)}},E=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.handleAuthentication(),/access_token|id_token|error/.test(this.props.history.location.hash)?(y.info("Handling authentication",{tags:"Auth"}),this.props.auth.handleAuthentication()):(y.warn("Nothing to handle. Redirect to /",{tags:"Auth"}),f.replace("/"))}},{key:"render",value:function(){return c.a.createElement("div",null,"Authentication in progress...")}}]),t}(n.Component);function v(e){return c.a.createElement("div",null,"Going to login...")}var O=function(e,t,a){if(Fe.isAuthenticated()){var n=Object.assign({},e,a);return c.a.createElement(t,n)}var r=f.location.pathname.concat(f.location.hash).concat(f.location.search);return y.info("saving URL for login: ".concat(r),{tags:"Auth"}),localStorage.setItem(Be,r),Fe.login(),c.a.createElement(v,null)},j=a(32),N=Object({NODE_ENV:"production",PUBLIC_URL:"/learnzone-react"}).BASE_URL||"https://al-un.github.io/learnzone-react",x={domain:"al-un.eu.auth0.com",clientID:"0nwDEdqBp76l2tr19nGI48AxOuF0VdCP",redirectUri:"".concat(N,"/callback"),logoutUrl:"".concat(N,"/"),audience:"https://rails.learnzone.com"},w=a(54),k=a(52);var C=function(e){return function(t){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,t),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.load()}},{key:"render",value:function(){var t=this;return this.props.entities?c.a.createElement("div",null,c.a.createElement(e,{entities:this.props.entities,deleteEntity:function(e){return t.props.delete(e)}})):c.a.createElement("div",null,"Loading list...")}}]),a}(c.a.Component)},A=a(47),S=function(e){return e.url?c.a.createElement(A.a,{to:e.url,className:"btn btn-outline-primary"},c.a.createElement("span",{className:"fas fa-plus"}),c.a.createElement("span",null,e.value)):c.a.createElement("div",null)};S.defaultProps={value:"Create"};var D=function(e){return c.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:e.deleteFunc},c.a.createElement("span",{className:"fas fa-trash"}),c.a.createElement("span",null,"Delete"))},I=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).deleteFunc=function(){var e=a.props.deleteMsg||"Confirm deletion?";window.confirm(e)&&a.props.deleteFunc()},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return Fe.isAuthenticated()?c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement(A.a,{to:this.props.editPath,className:"btn btn-sm btn-info"},c.a.createElement("span",{className:"fas fa-edit"}),"Edit"),c.a.createElement(D,{deleteFunc:this.deleteFunc})):c.a.createElement("div",{className:"unauthorized"})}}]),t}(c.a.Component),L=a(2),T=a.n(L),P="/catalogs",z="/catalogs";T.a.number,T.a.string,T.a.string,T.a.string,T.a.number;var R=function(e){return c.a.createElement("div",{className:"container-fluid catalogs-list"},c.a.createElement("h3",null,"Catalogs"),c.a.createElement("div",{className:"row"},e.entities.map(function(t,a){return c.a.createElement("div",{key:t.id,className:"col-12 col-md-3 mt-3"},c.a.createElement("div",{className:"card"},c.a.createElement(A.a,{to:"".concat(z,"/").concat(t.id)},c.a.createElement("div",{className:"card-header"},c.a.createElement("span",null,t.id,": ",t.name)),c.a.createElement("div",{className:"card-body"},c.a.createElement("p",{className:"card-text"},t.description),c.a.createElement("p",{className:"card-text"},t.publications_count," article(s)"))),c.a.createElement("div",{className:"card-footer"},c.a.createElement("span",null,"Owner: ",t.user.auth0_id),c.a.createElement(I,{editPath:"".concat(z,"/").concat(t.id,"/edit"),deleteFunc:function(){return e.deleteEntity(t.id)}}))))})),Fe.isAuthenticated()&&c.a.createElement("div",{className:"row"},c.a.createElement(S,{url:"".concat(z,"/new"),value:"Create a catalog"})))},_=a(11),U="learnzone/catalog/LOAD",B="learnzone/catalog/LOADED",F="learnzone/catalog/CLEAR",W="learnzone/catalog/LIST_LOAD",V="learnzone/catalog/LIST_LOADED",M="learnzone/catalog/NEW",J="learnzone/catalog/CREATE",q="learnzone/catalog/CREATED",H="learnzone/catalog/UPDATE",G="learnzone/catalog/UPDATED",Z="learnzone/catalog/DELETE",$="learnzone/catalog/DELETED",K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case V:var a=t.payload;return y.info("Loaded ".concat(a.length," catalog(s)"),{tags:["Redux","Catalog"]}),Object(_.a)({},e,{list:a});case B:return y.info("Loaded #".concat(t.payload.id),{tags:["Redux","Catalog"]}),Object(_.a)({},e,{entity:t.payload});case F:return Object(_.a)({},e,{entity:void 0});case M:return Object(_.a)({},e,{entity:{code:"",name:""}});case q:return y.info("Created",t.payload,{tags:["Redux","Catalog"]}),Object(_.a)({},e,{entity:t.payload});case G:return y.info("Updated",t.payload,{tags:["Redux","Catalog"]}),Object(_.a)({},e,{entity:t.payload});case $:var n=t.payload;y.info("Deleted catalog#".concat(n),{tags:["Redux","Catalog"]});var c=e.list.filter(function(e){return e.id!==n});return Object(_.a)({},e,{list:c});default:return e}},Q=function(e,t){return{type:Z,payload:e,meta:t}},X=Object(p.b)(function(e){return{entities:e.catalogs.list}},function(e){return{load:function(){return e({type:W})},delete:function(t){return e(Q(t))}}})(C(R)),Y={NEW:"new",READ:"read",EDIT:"edit"};var ee=function(e,t){return function(a){function n(){var e,t;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=Object(s.a)(this,(e=Object(u.a)(n)).call.apply(e,[this].concat(c)))).saveEntity=function(e){e.id?t.props.update(e):t.props.create(e)},t}return Object(d.a)(n,a),Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;y.info("Mounting entityHandler: ".concat(e)),e&&e!==Y.NEW?this.props.load(e):this.props.new()}},{key:"componentDidUpdate",value:function(){y.info("Updating entityHandler")}},{key:"componentWillUnmount",value:function(){this.props.unmount()}},{key:"render",value:function(){var a=this;return this.props.entity?Y.NEW===this.props.crud||Y.EDIT===this.props.crud?c.a.createElement(e,{entity:this.props.entity,saveEntity:function(e){return a.saveEntity(e)},handleValueChange:this.handleValueChange}):c.a.createElement(t,{entity:this.props.entity,deleteById:function(e){return a.props.deleteById(e)}}):c.a.createElement("div",null,"Loading entity...")}}]),n}(c.a.Component)},te=a(20),ae=function(e){return e.id?c.a.createElement("input",{type:"hidden",name:"id",value:e.id}):""};ae.propsType={id:T.a.number};var ne=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleValueChange=function(e){a.setState({entity:Object(_.a)({},a.state.entity,Object(te.a)({},e.target.name,e.target.value))})},a.handleFormSubmit=function(e){e.preventDefault(),a.props.saveEntity(a.state.entity)},a.state={entity:a.props.entity},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"container"},c.a.createElement("form",{onSubmit:this.handleFormSubmit},c.a.createElement(ae,{id:this.state.entity.id}),c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{className:"col col-md-2",type:"text",name:"code",required:!0,placeholder:"Code",value:this.state.entity.code,onChange:this.handleValueChange}),c.a.createElement("input",{className:"col col-md-10",type:"text",name:"name",required:!0,placeholder:"Name",value:this.state.entity.name,onChange:this.handleValueChange})),c.a.createElement("div",{className:"form-group"},c.a.createElement("textarea",{className:"w-100",name:"description",placeholder:"Description",value:this.state.entity.description||void 0,onChange:this.handleValueChange})),c.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save")))}}]),t}(c.a.Component),ce="https://learnzone-rails.herokuapp.com",re={Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem(Re))},ie=function(e,t,a){y.debug("".concat(e," ").concat(ce).concat(t," request"),a||{},"API");var n=Object.assign({headers:re},"GET"!==e?{method:e}:null,a?{body:JSON.stringify(a)}:null);return y.debug("".concat(e," ").concat(ce).concat(t," options"),n,"API"),fetch("".concat(ce).concat(t),n).then(function(a){return y.debug("".concat(e," ").concat(ce).concat(t," response ").concat(a.status),"API"),a}).then(function(e){return e.json()}).catch(function(e){return y.error("Error ".concat(e),e,"API")})},oe={get:function(e){return ie("GET",e)},post:function(e,t){return ie("POST",e,t)},patch:function(e,t){return ie("PATCH",e,t)},put:function(e,t){return ie("PUT",e,t)},delete:function(e,t){return ie("DELETE",e,t)}},le=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement("h3",null,"Publications"),c.a.createElement("ul",{id:"article_publications",className:"list-group"},this.props.list.map(function(t){return c.a.createElement("li",{key:t.id,className:"list-group-item d-flex justify-content-between align-items-center"},c.a.createElement("span",null,"[",t.id,"] ",t.catalog.name," -"," ",t.article.name),c.a.createElement("span",{className:"badge"},Fe.isAuthenticated()&&c.a.createElement(D,{deleteFunc:function(){return e.props.handleDeletion(t.id)}})))})))}}]),t}(c.a.Component),se=function(e){return c.a.createElement("div",null,c.a.createElement("h3",null,"Search ",e.entityName," to add"),c.a.createElement("div",null,c.a.createElement("span",null,"Search ",e.entityName," "),c.a.createElement("input",{type:"text",name:"search_name",value:e.searchName,onChange:e.handleSearchNameChange}),c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:e.search},"Search")))},ue=function(e){return c.a.createElement("ul",{className:"list-group"},e.searchedList.map(function(t){return c.a.createElement("li",{key:t.id,className:"list-group-item d-flex justify-content-between align-items-center"},c.a.createElement("span",null,t.name),c.a.createElement("span",{className:"badge"},c.a.createElement("button",{type:"button",className:"btn-sm",onClick:function(){return e.createPublication(t.id)}},c.a.createElement("span",{className:"fas fa-plus"}),c.a.createElement("span",null,"Add"))))}))},de=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).createPublication=function(e){var t=a.props.buildPublication(e);return y.info("Creating publication ".concat(JSON.stringify(t)),{tags:"ArticlePublication"}),oe.post("/article_publications/",t).then(function(e){return a.setState({publications:a.state.publications.concat(e)})})},a.deletePublication=function(e){y.info("deleting publication#".concat(e)),oe.delete("/article_publications/".concat(e)).then(function(t){y.debug("Deletion response: ".concat(JSON.stringify(t)),"ArticlePublication"),t.success&&a.setState(function(t){return{publications:t.publications.filter(function(t){return t.id!==e})}})})},a.handleSearchNameChange=function(e){a.setState({searchName:e.target.value})},a.search=function(){var e=a.state.searchName,t=a.props.searchUrl(e);oe.get(t).then(function(e){return a.setState({searchResults:e})})},a.state={publications:a.props.publications||[],searchName:"",searchResults:[]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement(le,{list:this.state.publications,handleDeletion:this.deletePublication}),c.a.createElement(se,{entityName:this.props.entityName,searchName:this.state.searchName,handleSearchNameChange:this.handleSearchNameChange,search:this.search}),c.a.createElement(ue,{searchedList:this.state.searchResults,createPublication:function(t){return e.createPublication(t)}}))}}]),t}(c.a.Component),pe="/articles",me="/articles",he=(T.a.number,T.a.string,T.a.string,T.a.number,function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement("div",{className:"card w-100"},c.a.createElement("div",{className:"card-header"},c.a.createElement("h3",null,"Catalog#",this.props.entity.id," [",this.props.entity.code,"]"," ",this.props.entity.name)),c.a.createElement("div",{className:"card-body"},c.a.createElement("span",{className:"card-text"},this.props.entity.description)),c.a.createElement("div",{className:"card-footer"},c.a.createElement(I,{editPath:"".concat(z,"/").concat(this.props.entity.id,"/edit"),deleteFunc:function(){return e.props.deleteById(e.props.entity.id)}}))),c.a.createElement(de,{publications:this.props.entity.article_publications,searchUrl:function(e){return"".concat(pe,"/search?name=").concat(e)},entityName:"Article",buildPublication:function(t){return{catalog_id:e.props.entity.id,article_id:t}}}))}}]),t}(c.a.Component)),fe=Object(p.b)(function(e){return{entity:e.catalogs.entity}},function(e){return{load:function(t){return e(function(e){return{type:U,payload:e}}(t))},new:function(){return e({type:M})},create:function(t){return e(function(e,t){return{type:J,payload:e,meta:t}}(t,{postProcessing:function(e){return f.push("".concat(z,"/").concat(e.id))}}))},update:function(t){return e(function(e,t){return{type:H,payload:e,meta:t}}(t,{postProcessing:function(e){return f.push("".concat(z,"/").concat(e.id))}}))},deleteById:function(t){return e(Q(t,{postProcessing:function(){return f.push("".concat(z))}}))},unmount:function(){return e({type:F})}}})(ee(ne,he));var be=function(e){return c.a.createElement("div",{className:"container-fluid articles-list"},c.a.createElement("h3",null,"Articles"),c.a.createElement("div",{className:"row"},e.entities.map(function(t,a){return c.a.createElement("div",{key:t.id,className:"col-12 col-md-3 mt-3"},c.a.createElement("div",{className:"card"},c.a.createElement(A.a,{to:"".concat(me,"/").concat(t.id)},c.a.createElement("div",{className:"card-header"},c.a.createElement("span",null,t.id,": ",t.name)),c.a.createElement("div",{className:"card-body"},c.a.createElement("p",{className:"card-text"},t.description),c.a.createElement("p",{className:"card-text"},t.publications_count," catalog(s)"))),c.a.createElement("div",{className:"card-footer"},c.a.createElement("span",null,"Owner: ",t.user.auth0_id),c.a.createElement(I,{editPath:"".concat(me,"/").concat(t.id,"/edit"),deleteFunc:function(){return e.deleteEntity(t.id)}}))))})),Fe.isAuthenticated&&c.a.createElement("div",{className:"row"},c.a.createElement(A.a,{to:"".concat(me,"/new"),className:"btn btn-outline-primary"},c.a.createElement("span",{className:"fas fa-plus"}),c.a.createElement("span",null,"Create an article"))))},ge="learnzone/article/LOAD",ye="learnzone/article/LOADED",Ee="learnzone/article/LIST_LOAD",ve="learnzone/article/LIST_LOADED",Oe="learnzone/article/CREATE",je="learnzone/article/CREATED",Ne="learnzone/article/UPDATE",xe="learnzone/article/UPDATED",we="learnzone/article/DELETE",ke="learnzone/article/DELETED",Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case ve:var a=t.payload;return y.info("Loaded ".concat(a.length," articles(s)"),{tags:["Redux","Article"]}),Object(_.a)({},e,{list:a});case ye:return y.info("Loaded #".concat(t.payload.id),{tags:["Redux","Article"]}),Object(_.a)({},e,{entity:t.payload});case"learnzone/article/CLEAR":return Object(_.a)({},e,{entity:void 0});case"learnzone/article/NEW":return Object(_.a)({},e,{entity:{name:""}});case je:return y.info("Created",t.payload,{tags:["Redux","Article"]}),Object(_.a)({},e,{entity:t.payload});case xe:return y.info("Updated",t.payload,{tags:["Redux","Catalog"]}),Object(_.a)({},e,{entity:t.payload});case ke:var n=t.payload;y.info("Deleted article#".concat(n),{tags:["Redux","Article"]});var c=e.list.filter(function(e){return e.id!==n});return Object(_.a)({},e,{list:c});default:return e}},Ae=function(e,t){return{type:we,payload:e,meta:t}},Se=Object(p.b)(function(e){return{entities:e.articles.list}},function(e){return{load:function(){return e({type:Ee})},delete:function(t){return e(Ae(t))}}})(C(be)),De=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleValueChange=function(e){a.setState({entity:Object(_.a)({},a.state.entity,Object(te.a)({},e.target.name,e.target.value))})},a.handleFormSubmit=function(e){e.preventDefault(),a.props.saveEntity(a.state.entity)},a.state={entity:a.props.entity},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"container"},c.a.createElement("form",{onSubmit:this.handleFormSubmit},c.a.createElement(ae,{id:this.state.entity.id}),c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{className:"w-100",type:"text",name:"name",placeholder:"Name",required:!0,value:this.state.entity.name,onChange:this.handleValueChange})),c.a.createElement("div",{className:"form-group"},c.a.createElement("textarea",{className:"w-100",name:"description",placeholder:"Description",value:this.state.entity.description||void 0,onChange:this.handleValueChange})),c.a.createElement("button",{type:"submit",className:"btn btn-success btn-lg"},"Save")))}}]),t}(c.a.Component),Ie=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement("div",{className:"card w-100"},c.a.createElement("div",{className:"card-header"},c.a.createElement("h3",null,"Article#",this.props.entity.id," ",this.props.entity.name)),c.a.createElement("div",{className:"card-body"},c.a.createElement("span",{className:"card-text"},this.props.entity.description)),c.a.createElement("div",{className:"card-footer"},c.a.createElement(I,{editPath:"".concat(me,"/").concat(this.props.entity.id,"/edit"),deleteFunc:function(){return e.props.deleteById(e.props.entity.id)}}))),c.a.createElement(de,{publications:this.props.entity.article_publications,searchUrl:function(e){return"".concat(P,"/search?name=").concat(e)},entityName:"Catalog",buildPublication:function(t){return{catalog_id:t,article_id:e.props.entity.id}}}))}}]),t}(c.a.Component),Le=Object(p.b)(function(e){return{entity:e.articles.entity}},function(e){return{load:function(t){return e(function(e){return{type:ge,payload:e}}(t))},new:function(){return e({type:"learnzone/article/NEW"})},create:function(t){return e(function(e,t){return{type:Oe,payload:e,meta:t}}(t,{postProcessing:function(e){return f.push("".concat(me,"/").concat(e.id))}}))},update:function(t){return e(function(e,t){return{type:Ne,payload:e,meta:t}}(t,{postProcessing:function(e){return f.push("".concat(me,"/").concat(e.id))}}))},deleteById:function(t){return e(Ae(t,{postProcessing:function(){return f.push("".concat(me))}}))},unmount:function(){return e({type:"learnzone/article/CLEAR"})}}})(ee(De,Ie)),Te=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=localStorage.getItem(Re),t=localStorage.getItem(_e),a=localStorage.getItem(Ue);return c.a.createElement("div",null,c.a.createElement("h3",null,"Misc info page"),c.a.createElement("div",null,c.a.createElement("h4",null,"Access Token:"),c.a.createElement("pre",{className:"full-width"},e||"none"),e&&c.a.createElement("a",{href:"https://jwt.io/?token=".concat(e),className:"btn btn-secondary mb-3",target:"_blank",rel:"noopener noreferrer"},"Decrypt on jwt.io")),c.a.createElement("div",null,c.a.createElement("h4",null,"ID Token:"),c.a.createElement("pre",{className:"full-width"},t||"none"),t&&c.a.createElement("a",{href:"https://jwt.io/?token=".concat(t),className:"btn btn-secondary mb-3",target:"_blank",rel:"noopener noreferrer"},"Decrypt on jwt.io")),c.a.createElement("div",null,c.a.createElement("h4",null,"Expires At:"),c.a.createElement("pre",{className:"full-width"},a||"none")))}}]),t}(c.a.Component),Pe=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement(w.a,null,c.a.createElement(k.a,{exact:!0,path:"/",component:X}),c.a.createElement(k.a,{exact:!0,path:"/callback",render:function(t){return c.a.createElement(E,Object.assign({},t,{auth:e.props.auth}))}}),c.a.createElement(k.a,{exact:!0,path:"".concat(z),component:X}),c.a.createElement(k.a,{exact:!0,path:"".concat(z,"/new"),render:function(e){return O(e,fe,{crud:Y.NEW})}}),c.a.createElement(k.a,{exact:!0,path:"".concat(z,"/:id"),render:function(e){return c.a.createElement(fe,Object.assign({},e,{crud:Y.READ}))}}),c.a.createElement(k.a,{exact:!0,path:"".concat(z,"/:id/edit"),render:function(e){return O(e,fe,{crud:Y.EDIT})}}),c.a.createElement(k.a,{exact:!0,path:"".concat(me),component:Se}),c.a.createElement(k.a,{exact:!0,path:"".concat(me,"/new"),render:function(e){return O(e,Le,{crud:Y.NEW})}}),c.a.createElement(k.a,{exact:!0,path:"".concat(me,"/:id"),render:function(e){return c.a.createElement(Le,Object.assign({},e,{crud:Y.READ}))}}),c.a.createElement(k.a,{exact:!0,path:"".concat(me,"/:id/edit"),render:function(e){return O(e,Le,{crud:Y.EDIT})}}),c.a.createElement(k.a,{exact:!0,path:"/misc-info",component:Te}))}}]),t}(c.a.Component),ze=function(){function e(){Object(o.a)(this,e),this.auth0=new j.a.WebAuth({domain:x.domain,clientID:x.clientID,redirectUri:x.redirectUri,responseType:"token id_token",scope:"openid",audience:x.audience}),y.debug("Contructing Auth instance",{tags:"Auth"}),this.login=this.login.bind(this),this.logout=this.logout.bind(this),this.handleAuthentication=this.handleAuthentication.bind(this),this.isAuthenticated=this.isAuthenticated.bind(this)}return Object(l.a)(e,[{key:"login",value:function(){var e=localStorage.getItem(Be);void 0!==e&&null!==e||(e=window.location.pathname,localStorage.setItem(Be,e)),y.info(" Auth0 login with saving: ".concat(e),{tags:"Authentication"}),this.auth0.authorize()}},{key:"handleAuthentication",value:function(){var e=this;this.auth0.parseHash(function(t,a){if(t)y.error("[Authentication] Error",t,{tags:"Auth"}),f.replace("/");else if(a&&a.accessToken&&a.idToken){e.setSession(a);var n=localStorage.getItem(Be)||"/";y.info("[Authentication] success and redirect to ".concat(n),{tags:"Auth"}),localStorage.removeItem(Be),f.replace(n)}else y.error("[Authentication] abnormal auth:",a,{tags:"Auth"}),f.replace("/")})}},{key:"setSession",value:function(e){var t=JSON.stringify(1e3*e.expiresIn+(new Date).getTime());localStorage.setItem(Re,e.accessToken),localStorage.setItem(_e,e.idToken),localStorage.setItem(Ue,t)}},{key:"logout",value:function(){localStorage.removeItem(Re),localStorage.removeItem(_e),localStorage.removeItem(Ue);var e="https://".concat(x.domain,"/v2/logout?client_id=").concat(x.clientID,"&returnTo=").concat(x.logoutUrl);window.location.replace(e)}},{key:"isAuthenticated",value:function(){var e=JSON.parse(localStorage.getItem(Ue));return(new Date).getTime()<e}}]),e}(),Re="access_token",_e="id_token",Ue="expires_at",Be="saved_url",Fe=new ze,We=a(21),Ve={articles:Ce,catalogs:K},Me=a(34),Je=a(10),qe=a.n(Je),He=a(4);function Ge(e){if(!e.meta)return null;var t=e.meta.postProcessing;return t instanceof Function?t:null}var Ze=qe.a.mark(et),$e=qe.a.mark(tt),Ke=qe.a.mark(at),Qe=qe.a.mark(nt),Xe=qe.a.mark(ct),Ye=qe.a.mark(rt);function et(){var e;return qe.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return y.debug("Loading catalogs",{tags:["Saga","Catalog"]}),t.next=3,Object(He.b)(oe.get,P);case 3:return e=t.sent,t.next=6,Object(He.c)({type:V,payload:e});case 6:case"end":return t.stop()}},Ze,this)}function tt(e){var t,a;return qe.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,y.debug("Loading #".concat(t),{tags:["Saga","Catalog"]}),n.next=4,Object(He.b)(oe.get,"".concat(P,"/").concat(t));case 4:return a=n.sent,n.next=7,Object(He.c)({type:B,payload:a});case 7:case"end":return n.stop()}},$e,this)}function at(e){var t,a;return qe.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return y.debug("Creating",e.payload,{tags:["Saga","Catalog"]}),n.next=3,Object(He.b)(oe.post,"".concat(P),e.payload);case 3:return t=n.sent,y.debug("Created",t,{tags:["Saga","Catalog"]}),n.next=7,Object(He.c)({type:q,payload:t,meta:e.meta});case 7:if(!(a=Ge(e))){n.next=11;break}return n.next=11,Object(He.b)(a,t);case 11:case"end":return n.stop()}},Ke,this)}function nt(e){var t,a,n;return qe.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return y.debug("Updating",e.payload,{tags:["Saga","Catalog"]}),t=e.payload.id,c.next=4,Object(He.b)(oe.patch,"".concat(P,"/").concat(t),e.payload);case 4:return a=c.sent,c.next=7,Object(He.c)({type:G,payload:a,meta:e.meta});case 7:if(!(n=Ge(e))){c.next=11;break}return c.next=11,Object(He.b)(n,a);case 11:case"end":return c.stop()}},Qe,this)}function ct(e){var t,a;return qe.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,y.info("Deleting catalog#".concat(t),{tags:["Saga","Catalog"]}),n.next=4,Object(He.b)(oe.delete,"".concat(P,"/").concat(t));case 4:return n.next=6,Object(He.c)({type:$,payload:t,meta:e.meta});case 6:if(!(a=Ge(e))){n.next=10;break}return n.next=10,Object(He.b)(a);case 10:case"end":return n.stop()}},Xe,this)}function rt(){return qe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(He.d)(W,et);case 2:return e.next=4,Object(He.d)(U,tt);case 4:return e.next=6,Object(He.d)(J,at);case 6:return e.next=8,Object(He.d)(H,nt);case 8:return e.next=10,Object(He.d)(Z,ct);case 10:case"end":return e.stop()}},Ye,this)}var it=qe.a.mark(pt),ot=qe.a.mark(mt),lt=qe.a.mark(ht),st=qe.a.mark(ft),ut=qe.a.mark(bt),dt=qe.a.mark(gt);function pt(){var e;return qe.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return y.debug("Loading articles",{tags:["Saga","Article"]}),t.next=3,Object(He.b)(oe.get,pe);case 3:return e=t.sent,t.next=6,Object(He.c)({type:ve,payload:e});case 6:case"end":return t.stop()}},it,this)}function mt(e){var t,a;return qe.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,y.debug("Loading #".concat(t),{tags:["Saga","Article"]}),n.next=4,Object(He.b)(oe.get,"".concat(pe,"/").concat(t));case 4:return a=n.sent,n.next=7,Object(He.c)({type:ye,payload:a});case 7:case"end":return n.stop()}},ot,this)}function ht(e){var t,a;return qe.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return y.debug("Creating",e.payload,{tags:["Saga","Article"]}),n.next=3,Object(He.b)(oe.post,"".concat(pe),e.payload);case 3:return t=n.sent,n.next=6,Object(He.c)({type:je,payload:t,meta:e.meta});case 6:if(!(a=Ge(e))){n.next=10;break}return n.next=10,Object(He.b)(a,t);case 10:case"end":return n.stop()}},lt,this)}function ft(e){var t,a,n;return qe.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return y.debug("Updating",e.payload,{tags:["Saga","Article"]}),t=e.payload.id,c.next=4,Object(He.b)(oe.patch,"".concat(pe,"/").concat(t),e.payload);case 4:return a=c.sent,c.next=7,Object(He.c)({type:xe,payload:a,meta:e.meta});case 7:if(!(n=Ge(e))){c.next=11;break}return c.next=11,Object(He.b)(n,a);case 11:case"end":return c.stop()}},st,this)}function bt(e){var t,a;return qe.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,y.info("Deleting article#".concat(t),{tags:["Saga","Article"]}),n.next=4,Object(He.b)(oe.delete,"".concat(pe,"/").concat(t));case 4:return n.next=6,Object(He.c)({type:ke,payload:t,meta:e.meta});case 6:if(!(a=Ge(e))){n.next=10;break}return n.next=10,Object(He.b)(a);case 10:case"end":return n.stop()}},ut,this)}function gt(){return qe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(He.d)(Ee,pt);case 2:return e.next=4,Object(He.d)(ge,mt);case 4:return e.next=6,Object(He.d)(Oe,ht);case 6:return e.next=8,Object(He.d)(Ne,ft);case 8:return e.next=10,Object(He.d)(we,bt);case 10:case"end":return e.stop()}},dt,this)}var yt=qe.a.mark(vt),Et=qe.a.mark(Ot);function vt(){return qe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.info("Starting",{tags:"Saga"});case 2:case"end":return e.stop()}},yt,this)}function Ot(){return qe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(He.a)([vt(),rt(),gt()]);case 2:case"end":return e.stop()}},Et,this)}var jt=Object(We.c)(Ve),Nt=Object(Me.a)(),xt=Object(We.d)(jt,Object(We.a)(Nt,function(e){return function(t){return function(a){y.info("Dispatching ".concat(a.type),"Redux");var n=t(a);return y.debug("Next state",e.getState(),{tags:"Redux"}),n}}},function(e){return function(e){return function(t){try{return e(t)}catch(a){y.error("Exception ".concat(JSON.stringify(t),": ").concat(a),a,"Redux")}}}}));Nt.run(Ot);var wt=xt,kt=a(53),Ct=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("nav",{className:"nav-sidebar"},c.a.createElement("h3",{className:"text-center"},"LearnZone React"),c.a.createElement("div",{className:"list-group"},c.a.createElement(kt.a,{to:"".concat(z),activeClassName:"active",className:"list-group-item"},"Catalogs"),c.a.createElement(kt.a,{to:"".concat(me),activeClassName:"active",className:"list-group-item"},"Articles"),c.a.createElement(kt.a,{to:"/misc-info",activeClassName:"active",className:"list-group-item"},"Misc-info")))}}]),t}(c.a.Component),At=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"toggleSideMenu",value:function(e){document.getElementById("nav-wrapper").classList.toggle("nav-toggle-menu")}},{key:"render",value:function(){return c.a.createElement("header",{className:"nav-toolbar navbar"},c.a.createElement("button",{className:"nav-toggler btn",type:"button",onClick:this.toggleSideMenu},c.a.createElement("span",{className:"fas fa-bars"})),this.props.auth.isAuthenticated()?c.a.createElement("button",{className:"btn",type:"button",onClick:this.props.auth.logout},c.a.createElement("span",{className:"fas fa-sign-out-alt"}),"Logout"):c.a.createElement("button",{className:"btn",type:"button",onClick:this.props.auth.login},c.a.createElement("span",{className:"fas fa-user"}),"Login"))}}]),t}(c.a.Component),St=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("main",{className:"nav-content"},c.a.createElement(Pe,{auth:this.props.auth}))}}]),t}(c.a.Component),Dt=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleBackdropClick",value:function(){document.getElementById("nav-wrapper").classList.toggle("nav-toggle-menu")}},{key:"render",value:function(){return c.a.createElement("div",{id:"nav-wrapper",className:"nav-wrapper"},c.a.createElement(Ct,null),c.a.createElement("div",{className:"nav-container"},c.a.createElement(At,{auth:this.props.auth}),c.a.createElement(St,{auth:this.props.auth})),c.a.createElement("div",{className:"nav-backdrop",onClick:this.handleBackdropClick}))}}]),t}(c.a.Component),It=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement(p.a,{store:wt},c.a.createElement(m.a,{history:f,basename:"/learnzone"},c.a.createElement(Dt,{auth:Fe})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(It,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[36,2,1]]]);
//# sourceMappingURL=main.6d344738.chunk.js.map